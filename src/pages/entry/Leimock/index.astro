---
import Layout from '@layout'
---

<style>
	.container {
		color: white;
		display: flex;
		flex-direction: column;
		width: 200px;
		align-items: center;
		justify-content: center;
		margin-left: 40%;
		margin-top: 10%;
	}

	.container2 {
		padding-top: 2%;
		display: flex;
		flex-direction: row;
		margin-left: -10%;
	}

	#generate {
		color: #db3eb1;
		border: 6px solid #db3eb1;
		border-radius: 15px;
		padding: 15px 25px;
		font-size: 20px;
		font-family: tahoma;
		letter-spacing: 5px;
		cursor: pointer;
		font-weight: bold;
		filter: drop-shadow(0 0 15px #db3eb1) drop-shadow(0 0 50px #db3eb1) contrast(2) brightness(2);
		transition: 0.5s;
		margin-bottom: 10%;
	}

	#generate:hover {
		color: black;
		background-color: #db3eb1;
		filter: drop-shadow(0 0 20px #db3eb1) contrast(2) brightness(2);
	}

	#long {
		background: #db3eb1;
	}

	#long,
	output {
		display: inline-block;
		color: white;
	}

	output {
		background: #db3eb1;
		padding: 5px 16px;
		border-radius: 3px;
		color: #fff;
		margin-left: 10%;
	}

	.container3 {
		display: flex;
		flex-direction: row;
		margin-left: 20%;
		margin-top: 10%;
	}

	#result {
		padding-top: 10%;
	}

	#copy {
		fill: #db3eb1;
	}
</style>

<Layout title='Leimock'>
	<div class='container'>
		<button id='generate'>Generar password</button>
		<div class='container2'>
			<input
				type='range'
				id='long'
				min='1'
				max='20'
				value='8'
				oninput='longvalue.value=value'
			/><output id='longvalue'>8</output>
		</div>
		<div class='container3'>
			<div id='result'></div>
			<svg
				xmlns='http://www.w3.org/2000/svg'
				fill='none'
				viewBox='0 0 24 24'
				stroke-width='1.5'
				stroke='currentColor'
				class='w-6 h-6'
			>
				<path
					stroke-linecap='round'
					stroke-linejoin='round'
					d='M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z'
				></path>
			</svg>
		</div>
	</div>
</Layout>

<script>
	function copyClipboard() {
		const text = (document.getElementById('result') as HTMLInputElement).innerHTML
		navigator.clipboard.writeText(text)
		alert('El texto se ha copiado')
	}
	function generatePass() {
		const long = parseInt((document.getElementById('long') as HTMLInputElement).value)
		console.log(long)
		const letters = 'ABCDEFGHIJKLMNÃ‘OPQRSTUVWXYZabcdefghijklmnopqrstuvxyz1234567890'
		let generatedPassword = ''
		for (let i = 0; i < long; i++) {
			const character = letters[Math.floor(Math.random() * (letters.length - 0 + 0))]
			generatedPassword = generatedPassword + character
		}
		document.getElementById('result').innerHTML = generatedPassword
	}

	document.getElementById('generate').addEventListener('click', generatePass)
	document.getElementById('copy').addEventListener('click', copyClipboard)
</script>
